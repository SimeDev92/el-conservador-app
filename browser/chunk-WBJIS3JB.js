import{a as ze}from"./chunk-KUETFIUK.js";import{a as xe}from"./chunk-Z7DADE6C.js";import{A as Oe,B as Ne,C as re,E as Pe,F as ye,G as Ie,I as ke,L as Ee,N as Fe,O as Te,P as Re,Q as Ve,R as Ae,S as De,T as je,U as Be,V as E,W as Le,b as _e,ba as J,ca as K,da as Q,ea as Ue,g as $,i as z,j as W,k as oe,ka as $e,l as be,m as y,o as G,q as I,r as H,s as k,t as Ce,u as q,v as Y,w as ve,x as Me,z as Se}from"./chunk-WRRNA3JR.js";import{Ab as i,Bb as n,Cb as d,Db as ge,Eb as ue,F as V,Gb as N,H as ie,Jb as g,Lb as h,Pc as v,Qc as L,Ub as b,Uc as U,Vb as o,Vc as he,W as F,Wa as j,Wb as u,Xb as C,Za as c,_a as f,aa as pe,ba as A,cc as T,dc as P,ec as fe,fa as le,gc as B,hc as we,ka as _,la as D,na as de,ob as w,q as S,ta as p,tb as m,ua as l}from"./chunk-BUN7TGPH.js";var x=class r{constructor(t){this.http=t}baseUrl=xe.baseUrl;getNews(){return this.http.get(`${this.baseUrl}/news`)}getNewById(t){return this.http.get(`${this.baseUrl}/news/${t}`).pipe(V(e=>S(void 0)))}searchNews(t){return this.http.get(`${this.baseUrl}/news/search?query=${t}`).pipe(V(e=>S([])))}getNewsByCategory(t){return this.http.get(`${this.baseUrl}/news/category/${t}`)}getNewsByDate(t){return this.http.get(`${this.baseUrl}/news/date/${t}`).pipe(V(e=>(console.error("Error fetching news by date:",e),S([]))))}static \u0275fac=function(e){return new(e||r)(le(_e))};static \u0275prov=pe({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ke=r=>["/news",r];function Qe(r,t){if(r&1&&(i(0,"mat-option",17),o(1),n()),r&2){let e=t.$implicit;m("value",e),c(),C(" ",e.title," ")}}function Xe(r,t){if(r&1&&(i(0,"mat-option"),o(1),n()),r&2){let e=h();c(),C(' No se encontraron resultados con el t\xE9rmino "',e.searchForm.get("searchInput").value,'" ')}}function Ze(r,t){if(r&1&&(i(0,"div",18)(1,"h3"),o(2,"Noticia seleccionada:"),n(),i(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),o(6),n(),i(7,"mat-card-subtitle"),o(8),n()(),i(9,"mat-card-content")(10,"p"),o(11),P(12,"slice"),n()(),i(13,"mat-card-actions")(14,"button",19),o(15,"Leer m\xE1s"),n()()()()),r&2){let e=h();c(6),u(e.selectedNew.title),c(2),u(e.selectedNew.subtitle),c(3),C("",B(12,4,e.selectedNew.content,0,200),"..."),c(3),m("routerLink",T(8,Ke,e.selectedNew._id))}}var X=class r{constructor(t,e){this.newsService=t;this.router=e;this.searchForm=new Ne({searchInput:new re(""),dateInput:new re("")}),this.searchForm.get("searchInput").valueChanges.pipe(ie(300),F(a=>a&&a.trim().length>=3?this.newsService.searchNews(a):S([]))).subscribe(a=>this.news=a),this.searchForm.get("dateInput").valueChanges.pipe(ie(300),F(a=>a?this.newsService.getNewsByDate(a):S([]))).subscribe(a=>this.news=a)}searchForm;news=[];selectedNew;onSelectedOption(t){let e=t.option.value;if(!e){this.selectedNew=void 0;return}this.selectedNew=e}displayFn(t){return t?t.title:""}goBack(){this.router.navigate(["/news"])}static \u0275fac=function(e){return new(e||r)(f(x),f(z))};static \u0275cmp=_({type:r,selectors:[["app-search-page"]],decls:33,vars:8,consts:[["picker",""],["auto","matAutocomplete"],[1,"search-container"],[1,"search-title"],[1,"search-content"],[1,"search-form",3,"formGroup"],["appearance","outline",1,"search-field"],["type","text","matInput","","formControlName","searchInput",3,"matAutocomplete"],["matSuffix",""],["matInput","","formControlName","dateInput",3,"matDatepicker"],["matSuffix","",3,"for"],["autoActiveFirstOption","",3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","selected-news",4,"ngIf"],[1,"ad-card"],["mat-raised-button","","color","primary",1,"back-button",3,"click"],[3,"value"],[1,"selected-news"],["mat-button","","color","primary",3,"routerLink"]],template:function(e,a){if(e&1){let s=N();i(0,"div",2)(1,"h2",3),o(2,"Buscador de Noticias"),n(),i(3,"div",4)(4,"form",5)(5,"mat-form-field",6)(6,"mat-label"),o(7,"Buscar noticias"),n(),d(8,"input",7),i(9,"mat-icon",8),o(10,"search"),n()(),i(11,"mat-form-field",6)(12,"mat-label"),o(13,"Buscar por fecha"),n(),d(14,"input",9)(15,"mat-datepicker-toggle",10)(16,"mat-datepicker",null,0),n(),i(18,"mat-autocomplete",11,1),g("optionSelected",function(Je){return p(s),l(a.onSelectedOption(Je))}),w(20,Qe,2,2,"mat-option",12)(21,Xe,2,1,"mat-option",13),n()(),w(22,Ze,16,10,"div",14),n(),i(23,"mat-card",15)(24,"mat-card-content")(25,"h3"),o(26,"Espacio para anuncio"),n(),i(27,"p"),o(28,"Aqu\xED puedes colocar tu anuncio publicitario."),n()()(),i(29,"button",16),g("click",function(){return p(s),l(a.goBack())}),i(30,"mat-icon"),o(31,"arrow_back"),n(),o(32," Volver al inicio "),n()()}if(e&2){let s=b(17),M=b(19);c(4),m("formGroup",a.searchForm),c(4),m("matAutocomplete",M),c(6),m("matDatepicker",s),c(),m("for",s),c(3),m("displayWith",a.displayFn),c(2),m("ngForOf",a.news),c(),m("ngIf",a.news.length===0&&a.searchForm.get("searchInput").value&&a.searchForm.get("searchInput").value.length>0),c(),m("ngIf",a.selectedNew)}},dependencies:[v,L,Pe,Me,Se,Oe,ye,Ie,W,Re,be,Ve,y,I,q,k,Y,Ce,H,Te,Ee,Fe,E,Ae,De,je,Be,U],styles:[".search-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.search-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px;color:#333}.search-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.search-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.search-field[_ngcontent-%COMP%]{width:100%}.selected-news[_ngcontent-%COMP%]{margin-top:20px}.ad-card[_ngcontent-%COMP%]{margin-top:30px;background-color:#f0f0f0;text-align:center;padding:20px}.ad-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;color:#555}.back-button[_ngcontent-%COMP%]{margin-top:20px}@media (min-width: 768px){.search-form[_ngcontent-%COMP%]{flex-direction:row}.search-field[_ngcontent-%COMP%]{width:48%}}"]})};var Z=class r{transform(t){return!t.imgUrl||t.imgUrl.trim()===""?"public/assets/no-image.png":t.imgUrl}static \u0275fac=function(e){return new(e||r)};static \u0275pipe=de({name:"newImage",type:r,pure:!0})};function nt(r,t){if(r&1&&(i(0,"span",24),o(1),n()),r&2){let e=t.$implicit;c(),C("#",e,"")}}function it(r,t){if(r&1){let e=N();ge(0),i(1,"div",3)(2,"div",4)(3,"mat-card",5)(4,"div",6),d(5,"img",7),P(6,"newImage"),n(),i(7,"mat-card-content")(8,"h1",8),o(9),n(),i(10,"h2",9),o(11),n(),i(12,"div",10)(13,"mat-icon"),o(14,"person"),n(),i(15,"span",11),o(16),n(),i(17,"mat-icon"),o(18,"event"),n(),i(19,"span",12),o(20),n(),i(21,"mat-icon"),o(22,"category"),n(),i(23,"span",13),o(24),n()(),i(25,"p",14),o(26),n(),i(27,"div",15)(28,"mat-icon"),o(29,"label"),n(),w(30,nt,2,1,"span",16),n()()()(),i(31,"div",17)(32,"button",18),g("click",function(){p(e);let s=h();return l(s.goBack())}),i(33,"mat-icon"),o(34,"arrow_back"),n(),o(35," Volver al inicio "),n(),i(36,"div",19)(37,"button",20)(38,"mat-icon"),o(39,"share"),n()()(),i(40,"mat-menu",null,1)(42,"button",21),g("click",function(){p(e);let s=h();return l(s.shareOnFacebook())}),i(43,"mat-icon"),o(44,"facebook"),n(),i(45,"span"),o(46,"Facebook"),n()(),i(47,"button",21),g("click",function(){p(e);let s=h();return l(s.shareOnTwitter())}),i(48,"mat-icon"),o(49,"twitter"),n(),i(50,"span"),o(51,"Twitter"),n()(),i(52,"button",21),g("click",function(){p(e);let s=h();return l(s.shareOnWhatsApp())}),i(53,"mat-icon"),o(54,"whatsapp"),n(),i(55,"span"),o(56,"WhatsApp"),n()()(),i(57,"mat-card",22)(58,"div",23)(59,"p"),o(60,"Aqu\xED tu anuncio"),n()()()()(),ue()}if(r&2){let e=b(41),a=h();c(5),m("src",fe(6,10,a.newsItem),j)("alt",a.newsItem.subtitle),c(4),u(a.newsItem.title),c(2),u(a.newsItem.subtitle),c(5),u(a.newsItem.author),c(4),u(a.newsItem.date),c(4),u(a.newsItem.category),c(2),u(a.newsItem.content),c(4),m("ngForOf",a.newsItem.tags),c(7),m("matMenuTriggerFor",e)}}function ot(r,t){r&1&&(i(0,"div",25),d(1,"mat-spinner"),n())}var ee=class r{constructor(t,e,a){this.newsService=t;this.activatedRoute=e;this.router=a}newsItem;ngOnInit(){this.activatedRoute.params.pipe(F(({id:t})=>this.newsService.getNewById(t))).subscribe(t=>{if(!t)return this.router.navigate(["/news"]);t.date=t.date.split("T")[0],this.newsItem=t})}goBack(){this.router.navigateByUrl("/news")}shareOnFacebook(){let t=encodeURIComponent(window.location.href);window.open(`https://www.facebook.com/sharer/sharer.php?u=${t}`,"_blank")}shareOnTwitter(){let t=encodeURIComponent(window.location.href),e=encodeURIComponent(this.newsItem?.title||"");window.open(`https://twitter.com/intent/tweet?url=${t}&text=${e}`,"_blank")}shareOnWhatsApp(){let t=encodeURIComponent(window.location.href),e=encodeURIComponent(this.newsItem?.title||"");window.open(`https://wa.me/?text=${e} ${t}`,"_blank")}static \u0275fac=function(e){return new(e||r)(f(x),f($),f(z))};static \u0275cmp=_({type:r,selectors:[["app-new-page"]],decls:3,vars:2,consts:[["divLoading",""],["shareMenu","matMenu"],[4,"ngIf","ngIfElse"],[1,"grid","p-2"],[1,"col-12","md:col-8","lg:col-9"],[1,"news-card"],[1,"news-image-container"],[1,"news-image",3,"src","alt"],[1,"news-title"],[1,"news-subtitle"],[1,"news-metadata"],[1,"author"],[1,"date"],[1,"category"],[1,"news-content"],[1,"news-tags"],["class","tag",4,"ngFor","ngForOf"],[1,"col-12","md:col-4","lg:col-3"],["mat-raised-button","",1,"mt-3","w-full","volver-inicio",3,"click"],[1,"share-container","mt-3"],["mat-fab","","aria-label","Compartir",1,"compartir","share-button",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"ad-card","mt-3"],[1,"ad-content"],[1,"tag"],[1,"loading-spinner"]],template:function(e,a){if(e&1&&w(0,it,61,12,"ng-container",2)(1,ot,2,0,"ng-template",null,0,we),e&2){let s=b(2);m("ngIf",a.newsItem)("ngIfElse",s)}},dependencies:[v,L,y,G,I,k,E,Ue,K,J,Q,Z],styles:[".news-card[_ngcontent-%COMP%]{margin-bottom:20px}.news-image[_ngcontent-%COMP%]{width:100%;height:400px;object-fit:contain;background-color:#f0f0f0;display:flex;justify-content:center;align-items:center}.news-title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;margin-bottom:.3rem;line-height:1.2;color:#333}.news-subtitle[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:500;color:#555;margin-bottom:1rem;line-height:1.3;font-style:italic}.news-metadata[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px;color:#666}.news-metadata[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:10px}.news-content[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6;margin-bottom:20px}.news-tags[_ngcontent-%COMP%]{margin-top:20px}.news-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;margin-right:8px;margin-bottom:8px;font-size:.9em;background-color:#ffc400;color:#333;border-radius:16px}.share-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.share-button[_ngcontent-%COMP%]{transition:transform .3s ease}.share-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.ad-card[_ngcontent-%COMP%]{background-image:url(/assets/espana_bandera.png);background-size:cover;background-position:center;text-align:center;padding:20px;height:200px;position:relative;display:flex;justify-content:center;align-items:center;border-radius:8px}.ad-card[_ngcontent-%COMP%]   .ad-content[_ngcontent-%COMP%]{background-color:#fffc;padding:10px;border-radius:8px}.ad-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;color:#333;font-weight:700}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}button.compartir[_ngcontent-%COMP%]{background-color:#c60b1e;color:#fff}button.compartir[_ngcontent-%COMP%]:hover{background-color:#b50a1a}button.volver-inicio[_ngcontent-%COMP%]{background-color:#06c;color:#fff}button.volver-inicio[_ngcontent-%COMP%]:hover{background-color:#036}"]})};var qe=r=>["/news",r];function rt(r,t){if(r&1&&(i(0,"span",13),o(1),n()),r&2){let e=t.$implicit;c(),u(e)}}var te=class r{new;ngOnInit(){if(!this.new)throw Error("New property is required")}shareOnWhatsApp(){}shareOnFacebook(){}shareOnTwitter(){}copyLink(){}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["news-new-card"]],inputs:{new:"new"},decls:38,vars:16,consts:[["shareMenu","matMenu"],[1,"news-card",3,"routerLink"],[1,"news-title"],["mat-card-image","",1,"news-image",3,"src","alt"],[1,"mt-2","news-content"],[1,"news-tags"],["class","tag",4,"ngFor","ngForOf"],[1,"card-actions"],["mat-raised-button","","color","primary",3,"routerLink"],[1,"spacer"],["mat-fab","","color","accent","matTooltip","Compartir",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["svgIcon","facebook"],[1,"tag"]],template:function(e,a){if(e&1){let s=N();i(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),o(3),n()(),d(4,"img",3),i(5,"mat-card-content",4)(6,"p"),o(7),P(8,"slice"),n()(),i(9,"div",5),w(10,rt,2,1,"span",6),n(),d(11,"mat-divider"),i(12,"mat-card-actions",7)(13,"button",8)(14,"mat-icon"),o(15,"more_horiz"),n(),o(16," Leer m\xE1s "),n(),d(17,"span",9),i(18,"button",10)(19,"mat-icon"),o(20,"share"),n()(),i(21,"mat-menu",null,0)(23,"button",11),g("click",function(){return p(s),l(a.shareOnWhatsApp())}),i(24,"mat-icon"),o(25,"whatsapp"),n(),o(26," WhatsApp "),n(),i(27,"button",11),g("click",function(){return p(s),l(a.shareOnFacebook())}),d(28,"mat-icon",12),o(29," Facebook "),n(),i(30,"button",11),g("click",function(){return p(s),l(a.shareOnTwitter())}),i(31,"mat-icon"),o(32,"twitter"),n(),o(33," Twitter "),n(),i(34,"button",11),g("click",function(){return p(s),l(a.copyLink())}),i(35,"mat-icon"),o(36,"link"),n(),o(37," Copiar enlace "),n()()()()}if(e&2){let s=b(22);m("routerLink",T(12,qe,a.new._id)),c(3),u(a.new.title),c(),m("src",a.new.imgUrl,j)("alt",a.new.tags),c(3),C("",B(8,8,a.new.content,0,150),"..."),c(3),m("ngForOf",a.new.tags),c(3),m("routerLink",T(14,qe,a.new._id)),c(5),m("matMenuTriggerFor",s)}},dependencies:[v,W,y,G,I,q,k,Y,ve,H,E,Le,K,J,Q,U],styles:[".news-card[_ngcontent-%COMP%]{transition:transform .3s ease-in-out,box-shadow .3s;cursor:pointer;border-radius:12px;margin-bottom:16px;text-decoration:none;display:flex;flex-direction:column;background-color:#fff}.news-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003}.news-image[_ngcontent-%COMP%]{margin-top:1rem;width:100%;height:auto;max-height:300px;object-fit:cover}.news-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700}.news-content[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:auto}.news-tags[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;display:flex;flex-wrap:wrap;justify-content:center}.news-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;margin-right:8px;margin-bottom:8px;font-size:.7em;background-color:#ffc400;color:#333;border-radius:16px}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px}.spacer[_ngcontent-%COMP%]{flex-grow:1}.card-actions[_ngcontent-%COMP%]   button[mat-fab][_ngcontent-%COMP%]{transition:transform .2s ease-in-out;background-color:#c60b1e;color:#fff}.card-actions[_ngcontent-%COMP%]   button[mat-fab][_ngcontent-%COMP%]:hover{background-color:#b50a1a;transform:scale(1.1)}.card-actions[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]{background-color:#06c;color:#fff}.card-actions[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]:hover{background-color:#036}"]})};function ct(r,t){if(r&1&&d(0,"news-new-card",2),r&2){let e=t.$implicit;m("new",e)}}var R=class r{constructor(t,e){this.newsService=t;this.route=e}news=[];selectedCategory="";ngOnInit(){this.route.params.subscribe(t=>{this.selectedCategory=t.category||"",this.loadNews()})}loadNews(){this.news=[],this.selectedCategory?this.newsService.getNewsByCategory(this.selectedCategory).subscribe(t=>{this.news=t}):this.newsService.getNews().subscribe(t=>{this.news=t})}static \u0275fac=function(e){return new(e||r)(f(x),f($))};static \u0275cmp=_({type:r,selectors:[["app-list-page"]],decls:2,vars:1,consts:[[1,"news-grid"],[3,"new",4,"ngFor","ngForOf"],[3,"new"]],template:function(e,a){e&1&&(i(0,"div",0),w(1,ct,1,1,"news-new-card",1),n()),e&2&&(c(),m("ngForOf",a.news))},dependencies:[v,te],styles:[".news-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;padding:20px}@media (max-width: 600px){.news-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var mt=[{path:"",component:ze,children:[{path:"search",component:X},{path:"list",component:R},{path:"category/:category",component:R},{path:":id",component:ee},{path:"**",redirectTo:"list"}]}],ne=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=D({type:r});static \u0275inj=A({imports:[oe.forChild(mt),oe]})};var Ye=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=D({type:r});static \u0275inj=A({imports:[he,ke,ne,$e]})};export{Ye as NewsModule};
